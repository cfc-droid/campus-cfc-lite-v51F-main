(()=>{function c(e){return document.querySelector(e)}function d(e){return document.querySelectorAll(e)}function m(){try{const e=localStorage.getItem("CFC_theme")||"dark";document.documentElement.setAttribute("data-theme",e)}catch{}}m();document.addEventListener("click",e=>{const t=e.target;if(t.matches("#theme-toggle")){const n=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",n);localStorage.setItem("CFC_theme",n);t.textContent=n==="light"?"ðŸŒ™":"â˜€ï¸"}});window.addEventListener("DOMContentLoaded",()=>{try{const e=c("#cfc-progress-text"),t=c("#cfc-progress-bar");if(e&&t){const n=parseInt(localStorage.getItem("progressPercent")||"0",10);e.textContent=`${n}% completado`;t.style.width=`${n}%`}}catch{}});document.addEventListener("click",e=>{const t=e.target;if(t.matches("[data-nav]")){e.preventDefault();const n=t.getAttribute("data-nav");if(!n)return;const o=document.createElement("div");o.style="position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;z-index:99999;opacity:0;transition:opacity .5s";o.innerHTML=`<div style='color:#FFD700;font-family:Poppins,sans-serif;font-size:1.6rem;font-weight:700;'>Cargando...</div>`;document.body.appendChild(o);setTimeout(()=>o.style.opacity=1,10);setTimeout(()=>location.href=n,350)});});function f(){try{d("img[data-preload]").forEach(e=>{const t=new Image;t.src=e.dataset.preload})}catch{}}window.addEventListener("DOMContentLoaded",f);document.addEventListener("click",e=>{const t=e.target;if(t.matches(".btn-sound")){const n=t.dataset.sound;if(n){const o=new Audio(n);o.volume=.7;o.play().catch(()=>{})}}});const g=()=>{try{const e=c("#cfc-footer-year");if(e)e.textContent=new Date().getFullYear()}catch{}};g();const p=()=>{document.addEventListener("contextmenu",e=>e.preventDefault());document.addEventListener("keydown",e=>{if(e.key==="F12"||e.keyCode===123)e.preventDefault();if(e.ctrlKey&&e.shiftKey&&(e.key==="I"||e.key==="i"))e.preventDefault()})};p();const h=()=>{try{const e=c("#cfc-header-title");if(!e)return;const t=["Bienvenido","SeguÃ­ avanzando","Vos podÃ©s","Mentalidad de trader","CFC Trading"];let n=0;setInterval(()=>{e.textContent=t[n%t.length];n++},6000)}catch{}};h();const v=()=>{try{const e=d("[data-tooltip]");e.forEach(t=>{t.addEventListener("mouseenter",()=>{let n=document.createElement("div");n.className="cfc-tip";n.textContent=t.dataset.tooltip;n.style.position="absolute";n.style.background="#000";n.style.color="#fff";n.style.padding="4px 8px";n.style.fontSize="11px";n.style.borderRadius="6px";n.style.zIndex=99999;document.body.appendChild(n);let o=t.getBoundingClientRect();n.style.top=o.top-30+"px";n.style.left=o.left+"px";t._tooltip=n});t.addEventListener("mouseleave",()=>{if(t._tooltip){t._tooltip.remove();t._tooltip=null}})})}catch{}};v();const y=()=>{try{const e=c("#cfc-scroll-top");if(!e)return;window.addEventListener("scroll",()=>{if(window.scrollY>300)e.style.opacity=1;else e.style.opacity=0});e.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}))}catch{}};y();const b=()=>{try{const e=d(".chapter-nav-btn");e.forEach((t,n)=>{t.addEventListener("click",()=>{let o=d(".chapter-section");o.forEach(s=>s.classList.remove("active"));o[n].classList.add("active")})})}catch{}};b();const x=()=>{try{const e=d("[data-confetti]");e.forEach(t=>{t.addEventListener("click",()=>{const n=document.createElement("canvas");Object.assign(n.style,{position:"fixed",inset:0,pointerEvents:"none",zIndex:99999});document.body.appendChild(n);const o=n.getContext("2d"),r=Array.from({length:80},()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,r:Math.random()*4+2,d:Math.random()*1+0.5}));let i=setInterval(()=>{o.clearRect(0,0,n.width,n.height);r.forEach(s=>{o.beginPath();o.arc(s.x,s.y,s.r,0,Math.PI*2);o.fillStyle="#FFD700";o.fill();s.y+=s.d;if(s.y>window.innerHeight)s.y=-10})},20);setTimeout(()=>{clearInterval(i);n.remove()},1200)})})}catch{}};x();})();
